<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#21808d">
    <title>Langue Learning - Apprendre les Langues</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-cream-50: rgba(252, 252, 249, 1);
            --color-gray-200: rgba(245, 245, 245, 1);
            --color-gray-300: rgba(167, 169, 169, 1);
            --color-slate-500: rgba(98, 108, 113, 1);
            --color-slate-900: rgba(19, 52, 59, 1);
            --color-teal-300: rgba(50, 184, 198, 1);
            --color-teal-400: rgba(45, 166, 178, 1);
            --color-teal-500: rgba(33, 128, 141, 1);
            --color-red-400: rgba(255, 84, 89, 1);
            --color-green-500: rgba(34, 197, 94, 1);

            --font-family-base: "Segoe UI", Roboto, sans-serif;
            --font-size-base: 14px;
            --font-size-lg: 16px;
            --font-size-xl: 18px;
            --space-8: 4px;
            --space-16: 8px;
            --space-20: 12px;
            --radius-base: 8px;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: var(--font-family-base);
            background: linear-gradient(135deg, #f5f9f9 0%, #e8f4f5 100%);
            min-height: 100vh;
            color: var(--color-slate-900);
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: var(--space-20);
        }

        .header {
            text-align: center;
            margin-bottom: var(--space-20);
            display: flex;
            flex-direction: column;
            gap: var(--space-16);
        }

        .header h1 {
            margin: 0;
            font-size: 32px;
            color: var(--color-teal-500);
        }

        .controls {
            display: flex;
            gap: var(--space-16);
            flex-wrap: wrap;
            justify-content: center;
            align-items: end;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-8);
        }

        .control-group label {
            font-weight: 600;
            font-size: 12px;
            color: var(--color-slate-500);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        select,
        input {
            padding: var(--space-8) var(--space-16);
            border: 2px solid var(--color-gray-200);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            background: var(--color-white);
            cursor: pointer;
            transition: border-color 0.2s;
        }

        select:focus,
        input:focus {
            outline: none;
            border-color: var(--color-teal-500);
            box-shadow: 0 0 0 3px rgba(33, 128, 141, 0.1);
        }

        .btn {
            padding: var(--space-8) var(--space-20);
            border: none;
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: var(--space-8);
        }

        .btn-primary {
            background: var(--color-teal-500);
            color: white;
        }

        .btn-primary:hover {
            background: var(--color-teal-400);
        }

        .btn-secondary {
            background: var(--color-gray-200);
            color: var(--color-slate-900);
        }

        .btn-secondary:hover {
            background: var(--color-gray-300);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-20);
        }

        @media (max-width: 768px) {
            .content {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 24px;
            }

            .btn {
                padding: var(--space-16) var(--space-20);
                /* Larger touch targets */
                width: 100%;
                justify-content: center;
            }
        }

        .card {
            background: var(--color-white);
            border-radius: 12px;
            padding: var(--space-20);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            display: flex;
            flex-direction: column;
            gap: var(--space-16);
        }

        .card h2 {
            margin: 0;
            font-size: var(--font-size-xl);
            color: var(--color-slate-900);
        }

        .dialogue-box {
            background: #f0f7f8;
            padding: var(--space-16);
            border-radius: var(--radius-base);
            border-left: 4px solid var(--color-teal-500);
            min-height: 80px;
            display: flex;
            align-items: center;
            font-style: italic;
            color: var(--color-slate-900);
            word-wrap: break-word;
        }

        .dialogue-lang {
            font-size: 12px;
            color: var(--color-slate-500);
            margin-bottom: var(--space-8);
            text-transform: uppercase;
            font-weight: 600;
        }

        .audio-controls {
            display: flex;
            gap: var(--space-8);
            flex-wrap: wrap;
        }

        .btn-icon {
            padding: var(--space-8) var(--space-16);
            font-size: 20px;
        }

        .recorder {
            display: flex;
            flex-direction: column;
            gap: var(--space-16);
        }

        .recorder-status {
            text-align: center;
            padding: var(--space-16);
            border-radius: var(--radius-base);
            font-weight: 600;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .status-ready {
            background: #e8f5e9;
            color: var(--color-green-500);
        }

        .status-recording {
            background: #ffe8e8;
            color: var(--color-red-400);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.6;
            }
        }

        .status-error {
            background: #ffe8e8;
            color: var(--color-red-400);
        }

        .transcript {
            background: #f9f9f9;
            padding: var(--space-16);
            border-radius: var(--radius-base);
            min-height: 60px;
            border: 2px dashed var(--color-gray-200);
            word-wrap: break-word;
        }

        .transcript-empty {
            color: var(--color-gray-300);
            font-style: italic;
        }

        .correction-box {
            background: #f0f7f8;
            padding: var(--space-16);
            border-radius: var(--radius-base);
            border-left: 4px solid var(--color-teal-500);
            min-height: 80px;
            display: flex;
            align-items: center;
        }

        .correction-box.error {
            border-left-color: var(--color-red-400);
            background: #ffe8e8;
        }

        .correction-box.success {
            border-left-color: var(--color-green-500);
            background: #e8f5e9;
        }

        .correction-content {
            font-size: 13px;
            line-height: 1.6;
            color: var(--color-slate-900);
        }

        .correction-content strong {
            color: var(--color-teal-500);
        }

        .correction-box.error strong {
            color: var(--color-red-400);
        }

        .correction-box.success strong {
            color: var(--color-green-500);
        }

        .divider {
            height: 2px;
            background: var(--color-gray-200);
            margin: var(--space-8) 0;
        }

        .loading {
            text-align: center;
            color: var(--color-slate-500);
            font-size: 12px;
        }

        .loading::after {
            content: "...";
            animation: dots 1.5s steps(3, end) infinite;
        }

        @keyframes dots {

            0%,
            20% {
                content: ".";
            }

            40% {
                content: "..";
            }

            60%,
            100% {
                content: "...";
            }
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-16);
            background: var(--color-gray-200);
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-top: var(--space-16);
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-teal-500);
        }

        .stat-label {
            font-size: 12px;
            color: var(--color-slate-500);
            margin-top: var(--space-8);
            text-transform: uppercase;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üó£Ô∏è Langue Learning</h1>

            <div class="controls">
                <div class="control-group">
                    <label>Langue cible</label>
                    <select id="targetLang">
                        <option value="el-GR">Grec (ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨)</option>
                        <option value="es-ES">Espagnol (Espa√±ol)</option>
                        <option value="de-DE">Allemand (Deutsch)</option>
                        <option value="it-IT">Italien (Italiano)</option>
                        <option value="pt-PT">Portugais (Portugu√™s)</option>
                        <option value="ja-JP">Japonais (Êó•Êú¨Ë™û)</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>Niveau</label>
                    <select id="level">
                        <option value="A1">D√©butant A1</option>
                        <option value="A2">√âl√©mentaire A2</option>
                        <option value="B1">Interm√©diaire B1</option>
                        <option value="B2">Bon B2</option>
                    </select>
                </div>

                <div class="control-group">
                    <label>Sujet</label>
                    <select id="topic">
                        <option value="presentation">Pr√©sentation</option>
                        <option value="magasin">Au magasin</option>
                        <option value="dentiste">Chez le dentiste</option>
                        <option value="banque">Banque d'investissement</option>
                        <option value="voyage">Voyage & Transport</option>
                        <option value="sante">Sant√© & Docteur</option>
                        <option value="loisirs">Loisirs & Hobbies</option>
                        <option value="restaurant">Restaurant & Caf√©</option>
                        <option value="travail">Travail & Bureau</option>
                        <option value="famille">Famille & Amis</option>
                        <option value="culture">Culture & Soci√©t√©</option>
                    </select>
                </div>

                <button class="btn btn-primary" id="generateBtn">
                    ‚ú® G√©n√©rer Dialogue
                </button>
                <div id="voice-warning"
                    style="display:none; color: #ffeb3b; background: rgba(0,0,0,0.15); padding: 10px; border-radius: 8px; font-size: 0.85rem; margin-top: 12px; border: 1px solid #ffeb3b; line-height: 1.4;">
                    ‚ö†Ô∏è La voix <span id="missing-lang-name"></span> n'est pas install√©e sur cet appareil. <br>
                    <div style="margin-top:5px; opacity: 0.9;">Allez dans <b>Param√®tres</b> et cherchez <b>"Synth√®se
                            vocale"</b> pour installer le pack de langue.</div>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- Panneau gauche: Dialogue -->
            <div class="card">
                <h2>üìö Dialogue</h2>

                <div>
                    <div class="dialogue-lang">Fran√ßais (Texte)</div>
                    <div class="dialogue-box" id="frenchDialogue">
                        Cliquez sur "G√©n√©rer Dialogue" pour commencer
                    </div>
                </div>

                <div class="divider"></div>

                <div>
                    <div class="dialogue-lang" id="targetLangLabel">Grec (√Ä r√©p√©ter)</div>
                    <div class="dialogue-box" id="targetDialogue">
                        En attente de g√©n√©ration...
                    </div>
                    <div class="audio-controls">
                        <button class="btn btn-secondary" id="speakTarget" style="flex: 1;">
                            üîä √âcouter le Grec
                        </button>
                        <button class="btn btn-secondary" id="toggleTranslation">
                            üëÅÔ∏è Masquer
                        </button>
                    </div>
                </div>

                <div class="stats">
                    <div class="stat">
                        <div class="stat-value" id="correctCount">0</div>
                        <div class="stat-label">Correctes</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="totalCount">0</div>
                        <div class="stat-label">Totales</div>
                    </div>
                </div>
            </div>

            <!-- Panneau droit: Enregistrement et Correction -->
            <div class="card">
                <h2>üé§ Enregistrement & Correction</h2>

                <div class="recorder">
                    <div class="recorder-status status-ready" id="recorderStatus">
                        Pr√™t √† enregistrer
                    </div>

                    <div style="display: flex; gap: var(--space-8); flex-wrap: wrap;">
                        <button class="btn btn-primary" id="recordBtn" style="flex: 1;">
                            ‚è∫Ô∏è Enregistrer
                        </button>
                        <button class="btn btn-secondary" id="stopBtn" disabled style="flex: 1;">
                            ‚èπÔ∏è Arr√™ter
                        </button>
                    </div>

                    <div class="divider"></div>

                    <div>
                        <div style="font-weight: 600; margin-bottom: var(--space-8);">Votre r√©ponse:</div>
                        <div class="transcript" id="transcript">
                            <span class="transcript-empty">Aucun enregistrement</span>
                        </div>
                    </div>

                    <button class="btn btn-primary" id="checkBtn" style="width: 100%; display: none;" disabled>
                        ‚úÖ V√©rifier la R√©ponse
                    </button>

                    <div class="divider" style="display: none;" id="correctionDivider"></div>

                    <div id="correctionContainer" style="display: none;">
                        <div style="font-weight: 600; margin-bottom: var(--space-8);">Correction:</div>
                        <div class="correction-box" id="correctionBox">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Configuration
        const DIALOGUES = {
            presentation: {
                A1: {
                    fr: ["Bonjour, comment allez-vous?", "Je m'appelle Marie.", "Quel est votre nom?", "O√π habitez-vous?", "Je viens de France.", "Enchant√© de vous rencontrer.", "Quel √¢ge avez-vous?", "Je parle un peu grec.", "Comment √ßa va aujourd'hui?", "Je suis √©tudiant."],
                    'el-GR': ["ŒöŒ±ŒªŒ∑ŒºŒ≠œÅŒ±, œÄœéœÇ ŒµŒØœÉœÑŒµ;", "ŒúŒµ ŒªŒ≠ŒΩŒµ ŒúŒ±œÅŒØŒ±.", "Œ†œéœÇ œÉŒ±œÇ ŒªŒ≠ŒΩŒµ;", "Œ†Œøœç ŒºŒ≠ŒΩŒµœÑŒµ;", "ŒïŒØŒºŒ±Œπ Œ±œÄœå œÑŒ∑ ŒìŒ±ŒªŒªŒØŒ±.", "ŒßŒ±ŒØœÅœâ œÄŒøŒªœç Œ≥ŒπŒ± œÑŒ∑ Œ≥ŒΩœâœÅŒπŒºŒØŒ±.", "Œ†œåœÉŒø œáœÅŒøŒΩœéŒΩ ŒµŒØœÉœÑŒµ;", "ŒúŒπŒªŒ¨œâ ŒªŒØŒ≥Œ± ŒµŒªŒªŒ∑ŒΩŒπŒ∫Œ¨.", "Œ†œéœÇ ŒµŒØœÉœÑŒµ œÉŒÆŒºŒµœÅŒ±;", "ŒïŒØŒºŒ±Œπ œÜŒøŒπœÑŒ∑œÑŒÆœÇ."],
                    'es-ES': ["Hola, ¬øc√≥mo est√°s?", "Me llamo Mar√≠a.", "¬øC√≥mo te llamas?", "¬øD√≥nde vives?", "Soy de Francia.", "Encantado de conocerte.", "¬øCu√°ntos a√±os tienes?", "Hablo un poco de griego.", "¬øC√≥mo va todo hoy?", "Soy estudiante."],
                    'de-DE': ["Hallo, wie geht es Ihnen?", "Ich hei√üe Maria.", "Wie hei√üen Sie?", "Wo wohnen Sie?", "Ich komme aus Frankreich.", "Freut mich, Sie kennenzulernen.", "Wie alt sind Sie?", "Ich spreche ein wenig Griechisch.", "Wie geht es Ihnen heute?", "Ich bin Student."],
                    'it-IT': ["Buongiorno, come sta?", "Mi chiamo Maria.", "Come ti chiami?", "Dove abiti?", "Vengo dalla Francia.", "Piacere di conoscerti.", "Quanti anni hai?", "Parlo un po' di greco.", "Come va oggi?", "Sono uno studente."],
                    'pt-PT': ["Ol√°, como est√°?", "Chamo-me Maria.", "Qual √© o seu nome?", "Onde mora?", "Venho de Fran√ßa.", "Muito prazer em conhec√™-lo.", "Quantos anos tem?", "Falo um pouco de grego.", "Como vai hoje?", "Sou estudante."],
                    'ja-JP': ["„Åì„Çì„Å´„Å°„ÅØ„ÄÅÂÖÉÊ∞ó„Åß„Åô„ÅãÔºü", "ÁßÅ„ÅÆÂêçÂâç„ÅØ„Éû„É™„Ç¢„Åß„Åô„ÄÇ", "„ÅäÂêçÂâç„ÅØ‰Ωï„Åß„Åô„ÅãÔºü", "„Å©„Åì„Å´‰Ωè„Çì„Åß„ÅÑ„Åæ„Åô„ÅãÔºü", "„Éï„É©„É≥„Çπ„Åã„ÇâÊù•„Åæ„Åó„Åü„ÄÇ", "„Åä‰ºö„ÅÑ„Åß„Åç„Å¶ÂÖâÊ†Ñ„Åß„Åô„ÄÇ", "‰ΩïÊ≠≥„Åß„Åô„ÅãÔºü", "„ÇÆ„É™„Ç∑„É£Ë™û„ÅåÂ∞ë„ÅóË©±„Åõ„Åæ„Åô„ÄÇ", "‰ªäÊó•„ÅØË™øÂ≠ê„Å©„ÅÜ„Åß„Åô„ÅãÔºü", "ÁßÅ„ÅØÂ≠¶Áîü„Åß„Åô„ÄÇ"]
                },
                A2: {
                    fr: ["Parlez-vous d'autres langues?", "J'aime beaucoup voyager.", "Quel est votre plat pr√©f√©r√©?", "Je travaille dans l'informatique.", "Mon film pr√©f√©r√© est Inception.", "J'ai deux fr√®res et une s≈ìur.", "Je vis ici depuis trois ans.", "Avez-vous des animaux domestiques?", "J'aime lire des livres le soir.", "Le weekend, je vais √† la plage."],
                    'el-GR': ["ŒúŒπŒªŒ¨œÑŒµ Œ¨ŒªŒªŒµœÇ Œ≥ŒªœéœÉœÉŒµœÇ;", "ŒúŒøœÖ Œ±œÅŒ≠œÉŒµŒπ œÄŒøŒªœç ŒΩŒ± œÑŒ±ŒæŒπŒ¥Œµœçœâ.", "Œ†ŒøŒπŒø ŒµŒØŒΩŒ±Œπ œÑŒø Œ±Œ≥Œ±œÄŒ∑ŒºŒ≠ŒΩŒø œÉŒ±œÇ œÜŒ±Œ≥Œ∑œÑœå;", "ŒîŒøœÖŒªŒµœçœâ œÉœÑŒ∑ŒΩ œÄŒªŒ∑œÅŒøœÜŒøœÅŒπŒ∫ŒÆ.", "Œó Œ±Œ≥Œ±œÄŒ∑ŒºŒ≠ŒΩŒ∑ ŒºŒøœÖ œÑŒ±ŒπŒΩŒØŒ± ŒµŒØŒΩŒ±Œπ œÑŒø Inception.", "Œàœáœâ Œ¥œçŒø Œ±Œ¥Œ≠œÅœÜŒπŒ± Œ∫Œ±Œπ ŒºŒπŒ± Œ±Œ¥ŒµœÅœÜŒÆ.", "ŒúŒ≠ŒΩœâ ŒµŒ¥œé ŒµŒ¥œé Œ∫Œ±Œπ œÑœÅŒØŒ± œáœÅœåŒΩŒπŒ±.", "ŒàœáŒµœÑŒµ Œ∫Œ±œÑŒøŒπŒ∫ŒØŒ¥ŒπŒ±;", "ŒúŒøœÖ Œ±œÅŒ≠œÉŒµŒπ ŒΩŒ± Œ¥ŒπŒ±Œ≤Œ¨Œ∂œâ Œ≤ŒπŒ≤ŒªŒØŒ± œÑŒø Œ≤œÅŒ¨Œ¥œÖ.", "Œ§Œø Œ£Œ±Œ≤Œ≤Œ±œÑŒøŒ∫œçœÅŒπŒ±Œ∫Œø œÄŒ∑Œ≥Œ±ŒØŒΩœâ œÉœÑŒ∑ŒΩ œÄŒ±œÅŒ±ŒªŒØŒ±."],
                    'es-ES': ["¬øHablas otros idiomas?", "Me gusta mucho viajar.", "¬øCu√°l es tu comida favorita?", "Trabajo en inform√°tica.", "Mi pel√≠cula favorita es Inception.", "Tengo dos hermanos y una hermana.", "Vivo aqu√≠ desde hace tres a√±os.", "¬øTienes mascotas?", "Me gusta leer libros por la noche.", "El fin de semana voy a la playa."],
                    'de-DE': ["Sprechen Sie andere Sprachen?", "Ich reise sehr gerne.", "Was ist Ihr Lieblingsessen?", "Ich arbeite in der IT.", "Mein Lieblingsfilm ist Inception.", "Ich habe zwei Br√ºder und eine Schwester.", "Ich lebe seit drei Jahren hier.", "Haben Sie Haustiere?", "Ich lese abends gerne B√ºcher.", "Am Wochenende gehe ich an den Strand."],
                    'it-IT': ["Parli altre lingue?", "Mi piace molto viaggiare.", "Qual √® il tuo piatto preferito?", "Lavoro nell'informatica.", "Il mio film preferito √® Inception.", "Ho due fratelli e una sorella.", "Vivo qui da tre anni.", "Hai animali domestici?", "Mi piace leggere libri la sera.", "Il fine settimana vado in spiaggia."],
                    'pt-PT': ["Fala outras l√≠nguas?", "Gosto muito de viajar.", "Qual √© o seu prato favorito?", "Trabalho em inform√°tica.", "O meu filme favorito √© o Inception.", "Tenho dois irm√£os e uma irm√£.", "Moro aqui h√° tr√™s anos.", "Tem animais de estima√ß√£o?", "Gosto de ler livros √† noite.", "Ao fim de semana vou √† praia."],
                    'ja-JP': ["‰ªñ„ÅÆË®ÄË™û„ÇíË©±„Åõ„Åæ„Åô„ÅãÔºü", "ÊóÖË°å„ÅåÂ§ßÂ•Ω„Åç„Åß„Åô„ÄÇ", "Â•Ω„Åç„Å™È£ü„ÅπÁâ©„ÅØ‰Ωï„Åß„Åô„ÅãÔºü", "ITÈñ¢‰øÇ„ÅÆ‰ªï‰∫ã„Çí„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "Â•Ω„Åç„Å™Êò†Áîª„ÅØ„Ç§„É≥„Çª„Éó„Ç∑„Éß„É≥„Åß„Åô„ÄÇ", "ÂÖÑ„Åå2‰∫∫„Å®Âßâ„Åå1‰∫∫„ÅÑ„Åæ„Åô„ÄÇ", "„Åì„Åì„Å´3Âπ¥‰Ωè„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇ", "„Éö„ÉÉ„Éà„ÅØÈ£º„Å£„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü", "Â§ú„Å´Êú¨„ÇíË™≠„ÇÄ„ÅÆ„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ", "ÈÄ±Êú´„ÅØÊµ∑„Å´Ë°å„Åç„Åæ„Åô„ÄÇ"]
                }
            },
            magasin: {
                A1: {
                    fr: ["Combien √ßa co√ªte?", "O√π est la caisse?", "C'est trop cher.", "Je voudrais un sac, s'il vous pla√Æt.", "Est-ce qu'il y a une r√©duction?", "Je cherche des chaussures.", "Quelle taille est-ce?", "Puis-je payer par carte?", "O√π sont les v√™tements pour hommes?", "Merci, bonne journ√©e."],
                    'el-GR': ["Œ†œåœÉŒø Œ∫ŒøœÉœÑŒØŒ∂ŒµŒπ;", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø œÑŒ±ŒºŒµŒØŒø;", "ŒïŒØŒΩŒ±Œπ œÄŒøŒªœç Œ±Œ∫œÅŒπŒ≤œå.", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± ŒºŒπŒ± œÑœÉŒ¨ŒΩœÑŒ±, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "Œ•œÄŒ¨œÅœáŒµŒπ Œ∫Œ¨œÄŒøŒπŒ± Œ≠Œ∫œÄœÑœâœÉŒ∑;", "Œ®Œ¨œáŒΩœâ Œ≥ŒπŒ± œÄŒ±œÄŒøœçœÑœÉŒπŒ±.", "Œ§Œπ ŒΩŒøœçŒºŒµœÅŒø ŒµŒØŒΩŒ±Œπ Œ±œÖœÑœå;", "ŒúœÄŒøœÅœé ŒΩŒ± œÄŒªŒ∑œÅœéœÉœâ ŒºŒµ Œ∫Œ¨œÅœÑŒ±;", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒ± Œ±ŒΩŒ¥œÅŒπŒ∫Œ¨ œÅŒøœçœáŒ±;", "ŒïœÖœáŒ±œÅŒπœÉœÑœé, Œ∫Œ±ŒªŒÆ œÉŒ±œÇ ŒºŒ≠œÅŒ±."],
                    'es-ES': ["¬øCu√°nto cuesta?", "¬øD√≥nde est√° la caja?", "Es demasiado caro.", "Quisiera una bolsa, por favor.", "¬øHay alg√∫n descuento?", "Busco zapatos.", "¬øQu√© talla es esta?", "¬øPuedo pagar con tarjeta?", "¬øD√≥nde est√° la ropa de hombre?", "Gracias, que tenga un buen d√≠a."],
                    'de-DE': ["Was kostet das?", "Wo ist die Kasse?", "Das ist zu teuer.", "Ich h√§tte gerne eine T√ºte, bitte.", "Gibt es einen Rabatt?", "Ich suche Schuhe.", "Welche Gr√∂√üe ist das?", "Kann ich mit Karte zahlen?", "Wo ist die Herrenbekleidung?", "Danke, einen sch√∂nen Tag noch."],
                    'it-IT': ["Quanto costa?", "Dov'√® la cassa?", "√à troppo caro.", "Vorrei una busta, per favore.", "C'√® uno sconto?", "Cerco delle scarpe.", "Che taglia √®?", "Posso pagare con carta?", "Dove sono i vestiti da uomo?", "Grazie, buona giornata."],
                    'pt-PT': ["Quanto custa?", "Onde fica a caixa?", "√â muito caro.", "Queria um saco, por favor.", "H√° algum desconto?", "Procuro sapatos.", "Que tamanho √© este?", "Posso pagar com cart√£o?", "Onde fica a roupa de homem?", "Obrigado, tenha um bom dia."],
                    'ja-JP': ["„ÅÑ„Åè„Çâ„Åß„Åô„ÅãÔºü", "„É¨„Ç∏„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "È´ò„Åô„Åé„Åæ„Åô„ÄÇ", "Ë¢ã„Çí„Åè„Å†„Åï„ÅÑ„ÄÇ", "Ââ≤Âºï„ÅØ„ÅÇ„Çä„Åæ„Åô„ÅãÔºü", "Èù¥„ÇíÊé¢„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "„Çµ„Ç§„Ç∫„ÅØ‰Ωï„Åß„Åô„ÅãÔºü", "„Ç´„Éº„Éâ„ÅßÊâï„Åà„Åæ„Åô„ÅãÔºü", "Á¥≥Â£´Êúç„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„ÅÇ„Çä„Åå„Å®„ÅÜ„Åî„Åñ„ÅÑ„Åæ„Åô„ÄÅËâØ„ÅÑ‰∏ÄÊó•„Çí„ÄÇ"]
                }
            },
            voyage: {
                A1: {
                    fr: ["O√π est la gare?", "Un billet pour Paris, s'il vous pla√Æt.", "√Ä quelle heure part le train?", "Je suis perdu.", "O√π sont les toilettes?", "Le vol est en retard.", "O√π est mon h√¥tel?", "Je voudrais un taxi.", "C'est loin d'ici?", "Puis-je avoir un plan de la ville?"],
                    'el-GR': ["Œ†Œøœç ŒµŒØŒΩŒ±Œπ Œø œÉœÑŒ±Œ∏ŒºœåœÇ;", "ŒàŒΩŒ± ŒµŒπœÉŒπœÑŒÆœÅŒπŒø Œ≥ŒπŒ± œÑŒø Œ†Œ±œÅŒØœÉŒπ, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "Œ§Œπ œéœÅŒ± œÜŒµœçŒ≥ŒµŒπ œÑŒø œÑœÅŒ≠ŒΩŒø;", "Œàœáœâ œáŒ±Œ∏ŒµŒØ.", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ ŒøŒπ œÑŒøœÖŒ±ŒªŒ≠œÑŒµœÇ;", "Œó œÄœÑŒÆœÉŒ∑ Œ≠œáŒµŒπ Œ∫Œ±Œ∏œÖœÉœÑŒ≠œÅŒ∑œÉŒ∑.", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø ŒæŒµŒΩŒøŒ¥ŒøœáŒµŒØŒø ŒºŒøœÖ;", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± Œ≠ŒΩŒ± œÑŒ±ŒæŒØ.", "ŒïŒØŒΩŒ±Œπ ŒºŒ±Œ∫œÅŒπŒ¨ Œ±œÄœå ŒµŒ¥œé;", "ŒúœÄŒøœÅœé ŒΩŒ± Œ≠œáœâ Œ≠ŒΩŒ±ŒΩ œáŒ¨œÅœÑŒ∑ œÑŒ∑œÇ œÄœåŒªŒ∑œÇ;"],
                    'es-ES': ["¬øD√≥nde est√° la estaci√≥n?", "Un billete para Par√≠s, por favor.", "¬øA qu√© hora sale el tren?", "Estoy perdido.", "¬øD√≥nde est√°n los ba√±os?", "El vuelo est√° retrasado.", "¬øD√≥nde est√° mi hotel?", "Quisiera un taxi.", "¬øEst√° lejos de aqu√≠?", "¬øPuedo tener un mapa de la ciudad?"],
                    'de-DE': ["Wo ist der Bahnhof?", "Eine Fahrkarte nach Paris, bitte.", "Um wie viel Uhr f√§hrt der Zug?", "Ich habe mich verlaufen.", "Wo sind die Toiletten?", "Der Flug hat Versp√§tung.", "Wo ist mein Hotel?", "Ich m√∂chte ein Taxi.", "Ist es weit von hier?", "Kann ich einen Stadtplan haben?"],
                    'it-IT': ["Dov'√® la stazione?", "Un biglietto per Parigi, per favore.", "A che ora parte il treno?", "Mi sono perso.", "Dove sono i bagni?", "Il volo √® in ritardo.", "Dov'√® il mio hotel?", "Vorrei un taxi.", "√à lontano da qui?", "Posso avere una mappa della citt√†?"],
                    'pt-PT': ["Onde fica a esta√ß√£o?", "Um bilhete para Paris, por favor.", "A que horas parte o comboio?", "Estou perdido.", "Onde ficam as casas de banho?", "O voo est√° atrasado.", "Onde fica o meu hotel?", "Queria um t√°xi.", "√â longe daqui?", "Posso ter um mapa da cidade?"],
                    'ja-JP': ["ÈßÖ„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„Éë„É™Ë°å„Åç„ÅÆ„ÉÅ„Ç±„ÉÉ„Éà„Çí‰∏ÄÊûö„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "ÈõªËªä„ÅØ‰ΩïÊôÇ„Å´Âá∫Áô∫„Åó„Åæ„Åô„ÅãÔºü", "Ëø∑Â≠ê„Å´„Å™„Çä„Åæ„Åó„Åü„ÄÇ", "„Éà„Ç§„É¨„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "È£õË°åÊ©ü„ÅåÈÅÖ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "„Éõ„ÉÜ„É´„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„Çø„ÇØ„Ç∑„Éº„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "„Åì„Åì„Åã„ÇâÈÅ†„ÅÑ„Åß„Åô„ÅãÔºü", "Âú∞Âõ≥„Çí„ÅÑ„Åü„Å†„Åë„Åæ„Åô„ÅãÔºü"]
                }
            },
            restaurant: {
                A1: {
                    fr: ["Une table pour deux, s'il vous pla√Æt.", "La carte, s'il vous pla√Æt.", "Je voudrais un caf√©.", "Avez-vous des plats v√©g√©tariens?", "L'addition, s'il vous pla√Æt.", "O√π est le menu?", "Un verre d'eau, s'il vous pla√Æt.", "C'est d√©licieux.", "Je n'aime pas la viande.", "Est-ce que le service est compris?"],
                    'el-GR': ["ŒàŒΩŒ± œÑœÅŒ±œÄŒ≠Œ∂Œπ Œ≥ŒπŒ± Œ¥œçŒø, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "Œ§ŒøŒΩ Œ∫Œ±œÑŒ¨ŒªŒøŒ≥Œø, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± Œ≠ŒΩŒ±ŒΩ Œ∫Œ±œÜŒ≠.", "ŒàœáŒµœÑŒµ œÄŒπŒ¨œÑŒ± Œ≥ŒπŒ± œáŒøœÅœÑŒøœÜŒ¨Œ≥ŒøœÖœÇ;", "Œ§Œø ŒªŒøŒ≥Œ±œÅŒπŒ±œÉŒºœå, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø ŒºŒµŒΩŒøœç;", "ŒàŒΩŒ± œÄŒøœÑŒÆœÅŒπ ŒΩŒµœÅœå, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "ŒïŒØŒΩŒ±Œπ ŒΩœåœÉœÑŒπŒºŒø.", "ŒîŒµŒΩ ŒºŒøœÖ Œ±œÅŒ≠œÉŒµŒπ œÑŒø Œ∫œÅŒ≠Œ±œÇ.", "Œ†ŒµœÅŒπŒªŒ±ŒºŒ≤Œ¨ŒΩŒµœÑŒ±Œπ œÑŒø œÉŒ≠œÅŒ≤ŒπœÇ;"],
                    'es-ES': ["Una mesa para dos, por favor.", "La carta, por favor.", "Quisiera un caf√©.", "¬øTienen platos vegetarianos?", "La cuenta, por favor.", "¬øD√≥nde est√° el men√∫?", "Un vaso de agua, por favor.", "Est√° delicioso.", "No me gusta la carne.", "¬øEst√° incluido el servicio?"],
                    'de-DE': ["Ein Tisch f√ºr zwei, bitte.", "Die Speisekarte, bitte.", "Ich h√§tte gerne einen Kaffee.", "Haben Sie vegetarische Gerichte?", "Die Rechnung, bitte.", "Wo ist die Speisekarte?", "Ein Glas Wasser, bitte.", "Es ist k√∂stlich.", "Ich mag kein Fleisch.", "Ist der Service inbegriffen?"],
                    'it-IT': ["Un tavolo per due, per favore.", "Il menu, per favore.", "Vorrei un caff√®.", "Avete piatti vegetariani?", "Il conto, per favore.", "Dov'√® il menu?", "Un bicchiere d'acqua, per favore.", "√à delizioso.", "Non mi piace la carne.", "Il servizio √® incluso?"],
                    'pt-PT': ["Uma mesa para dois, por favor.", "A ementa, por favor.", "Queria um caf√©.", "T√™m pratos vegetarianos?", "A conta, por favor.", "Onde est√° o menu?", "Um copo de √°gua, por favor.", "Est√° delicioso.", "N√£o gosto de carne.", "O servi√ßo est√° inclu√≠do?"],
                    'ja-JP': ["2‰∫∫Áî®„ÅÆ„ÉÜ„Éº„Éñ„É´„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "„É°„Éã„É•„Éº„Çí„Åè„Å†„Åï„ÅÑ„ÄÇ", "„Ç≥„Éº„Éí„Éº„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "„Éô„Ç∏„Çø„É™„Ç¢„É≥ÊñôÁêÜ„ÅØ„ÅÇ„Çä„Åæ„Åô„ÅãÔºü", "„Åä‰ºöË®à„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "„É°„Éã„É•„Éº„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„ÅäÊ∞¥„Çí‰∏ÄÊùØ„Åè„Å†„Åï„ÅÑ„ÄÇ", "ÁæéÂë≥„Åó„ÅÑ„Åß„Åô„ÄÇ", "ËÇâ„ÅØÂ•Ω„Åç„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ", "„Çµ„Éº„Éì„ÇπÊñô„ÅØÂê´„Åæ„Çå„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü"]
                }
            },
            sante: {
                A1: {
                    fr: ["J'ai mal √† la t√™te.", "O√π est la pharmacie?", "Je voudrais de l'aspirine.", "J'ai de la fi√®vre.", "Je suis fatigu√©.", "O√π est l'h√¥pital?", "Je cherche un m√©decin.", "J'ai mal au ventre.", "Est-ce contagieux?", "J'ai besoin d'une ordonnance."],
                    'el-GR': ["Œ†ŒøŒΩŒ¨ŒµŒπ œÑŒø Œ∫ŒµœÜŒ¨ŒªŒπ ŒºŒøœÖ.", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø œÜŒ±œÅŒºŒ±Œ∫ŒµŒØŒø;", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± Œ±œÉœÄŒπœÅŒØŒΩŒ∑.", "Œàœáœâ œÄœÖœÅŒµœÑœå.", "ŒïŒØŒºŒ±Œπ Œ∫ŒøœÖœÅŒ±œÉŒºŒ≠ŒΩŒøœÇ.", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø ŒΩŒøœÉŒøŒ∫ŒøŒºŒµŒØŒø;", "Œ®Œ¨œáŒΩœâ Œ≥ŒπŒ± Œ≥ŒπŒ±œÑœÅœå.", "Œ†ŒøŒΩŒ¨ŒµŒπ Œ∑ Œ∫ŒøŒπŒªŒπŒ¨ ŒºŒøœÖ.", "ŒïŒØŒΩŒ±Œπ Œ∫ŒøŒªŒªŒ∑œÑŒπŒ∫œå;", "ŒßœÅŒµŒπŒ¨Œ∂ŒøŒºŒ±Œπ ŒºŒπŒ± œÉœÖŒΩœÑŒ±Œ≥ŒÆ."],
                    'es-ES': ["Me duele la cabeza.", "¬øD√≥nde est√° la farmacia?", "Quisiera aspirina.", "Tengo fiebre.", "Estoy cansado.", "¬øD√≥nde est√° el hospital?", "Busco un m√©dico.", "Me duele el est√≥mago.", "¬øEs contagioso?", "Necesito una receta."],
                    'de-DE': ["Ich habe Kopfschmerzen.", "Wo ist die Apotheke?", "Ich h√§tte gerne Aspirin.", "Ich habe Fieber.", "Ich bin m√ºde.", "Wo ist das Krankenhaus?", "Ich suche einen Arzt.", "Ich habe Bauchschmerzen.", "Ist es ansteckend?", "Ich brauche ein Rezept."],
                    'it-IT': ["Ho mal di testa.", "Dov'√® la farmacia?", "Vorrei dell'aspirina.", "Ho la febbre.", "Sono stanco.", "Dov'√® l'ospedale?", "Cerco un medico.", "Ho mal di pancia.", "√à contagioso?", "Ho bisogno di una ricetta."],
                    'pt-PT': ["D√≥i-me a cabe√ßa.", "Onde fica a farm√°cia?", "Queria aspirina.", "Tenho febre.", "Estou cansado.", "Onde fica o hospital?", "Procuro um m√©dico.", "D√≥i-me a barriga.", "√â contagioso?", "Preciso de uma receita."],
                    'ja-JP': ["È†≠„ÅåÁóõ„ÅÑ„Åß„Åô„ÄÇ", "Ëñ¨Â±Ä„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„Ç¢„Çπ„Éî„É™„É≥„Çí„Åè„Å†„Åï„ÅÑ„ÄÇ", "ÁÜ±„Åå„ÅÇ„Çä„Åæ„Åô„ÄÇ", "Áñ≤„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "ÁóÖÈô¢„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "ÂåªËÄÖ„ÇíÊé¢„Åó„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "„ÅäËÖπ„ÅåÁóõ„ÅÑ„Åß„Åô„ÄÇ", "‰ºùÊüì„Åó„Åæ„Åô„ÅãÔºü", "Âá¶ÊñπÁÆã„ÅåÂøÖË¶Å„Åß„Åô„ÄÇ"]
                }
            },
            loisirs: {
                A1: {
                    fr: ["J'aime la musique.", "Je joue au football.", "Quel est votre hobby?", "J'aime regarder la t√©l√©.", "Je vais au cin√©ma ce soir.", "Aimez-vous danser?", "Je fais du sport le matin.", "Mon chanteur pr√©f√©r√© est g√©nial.", "J'aime nager dans la mer.", "Je pr√©f√®re les jeux vid√©o."],
                    'el-GR': ["ŒúŒøœÖ Œ±œÅŒ≠œÉŒµŒπ Œ∑ ŒºŒøœÖœÉŒπŒ∫ŒÆ.", "Œ†Œ±ŒØŒ∂œâ œÄŒøŒ¥œåœÉœÜŒ±ŒπœÅŒø.", "Œ†ŒøŒπŒø ŒµŒØŒΩŒ±Œπ œÑŒø œáœåŒºœÄŒπ œÉŒ±œÇ;", "ŒúŒøœÖ Œ±œÅŒ≠œÉŒµŒπ ŒΩŒ± Œ≤ŒªŒ≠œÄœâ œÑŒ∑ŒªŒµœåœÅŒ±œÉŒ∑.", "Œ†Œ∑Œ≥Œ±ŒØŒΩœâ œÉŒπŒΩŒµŒºŒ¨ Œ±œÄœåœàŒµ.", "Œ£Œ±œÇ Œ±œÅŒ≠œÉŒµŒπ ŒΩŒ± œáŒøœÅŒµœçŒµœÑŒµ;", "ŒöŒ¨ŒΩœâ œÉœÄŒøœÅ œÑŒø œÄœÅœâŒØ.", "Œü Œ±Œ≥Œ±œÄŒ∑ŒºŒ≠ŒΩŒøœÇ ŒºŒøœÖ œÑœÅŒ±Œ≥ŒøœÖŒ¥ŒπœÉœÑŒÆœÇ ŒµŒØŒΩŒ±Œπ œÖœÄŒ≠œÅŒøœáŒøœÇ.", "ŒúŒøœÖ Œ±œÅŒ≠œÉŒµŒπ ŒΩŒ± Œ∫ŒøŒªœÖŒºœÄŒ¨œâ œÉœÑŒ∑ Œ∏Œ¨ŒªŒ±œÉœÉŒ±.", "Œ†œÅŒøœÑŒπŒºœé œÑŒ± Œ≤ŒπŒΩœÑŒµŒøœÄŒ±ŒπœáŒΩŒØŒ¥ŒπŒ±."],
                    'es-ES': ["Me gusta la m√∫sica.", "Juego al f√∫tbol.", "¬øCu√°l es tu hobby?", "Me gusta ver la tele.", "Voy al cine esta noche.", "¬øTe gusta bailar?", "Hago deporte por la ma√±ana.", "Mi cantante favorito es genial.", "Me gusta nadar en el mar.", "Prefiero los videojuegos."],
                    'de-DE': ["Ich mag Musik.", "Ich spiele Fu√üball.", "Was ist Ihr Hobby?", "Ich schaue gerne fern.", "Ich gehe heute Abend ins Kino.", "Tanzen Sie gerne?", "Ich treibe morgens Sport.", "Mein Lieblingss√§nger ist toll.", "Ich schwimme gerne im Meer.", "Ich bevorzuge Videospiele."],
                    'it-IT': ["Mi piace la musica.", "Gioco a calcio.", "Qual √® il tuo hobby?", "Mi piace guardare la TV.", "Vado al cinema stasera.", "Ti piace ballare?", "Faccio sport al mattino.", "Il meu cantante preferito √® fantastico.", "Mi piace nuotare nel mare.", "Preferisco i videogiochi."],
                    'pt-PT': ["Gosto de m√∫sica.", "Jogo futebol.", "Qual √© o seu hobby?", "Gosto de ver televis√£o.", "Vou ao cinema logo √† noite.", "Gosta de dan√ßar?", "Fa√ßo desporto de manh√£.", "O meu cantor favorito √© fant√°stico.", "Gosto de nadar no mar.", "Prefiro videojogos."],
                    'ja-JP': ["Èü≥Ê•Ω„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ", "„Çµ„ÉÉ„Ç´„Éº„Çí„Åó„Åæ„Åô„ÄÇ", "Ë∂£Âë≥„ÅØ‰Ωï„Åß„Åô„ÅãÔºü", "„ÉÜ„É¨„Éì„ÇíË¶ã„Çã„ÅÆ„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ", "‰ªäÂ§ú„ÅØÊò†Áîª„Å´Ë°å„Åç„Åæ„Åô„ÄÇ", "„ÉÄ„É≥„Çπ„ÅØÂ•Ω„Åç„Åß„Åô„ÅãÔºü", "Êúù„Å´„Çπ„Éù„Éº„ÉÑ„Çí„Åó„Åæ„Åô„ÄÇ", "ÁßÅ„ÅÆÂ•Ω„Åç„Å™Ê≠åÊâã„ÅØÊúÄÈ´ò„Åß„Åô„ÄÇ", "Êµ∑„ÅßÊ≥≥„Åê„ÅÆ„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ", "„Ç≤„Éº„É†„ÅÆ„Åª„ÅÜ„ÅåÂ•Ω„Åç„Åß„Åô„ÄÇ"]
                }
            },
            famille: {
                A1: {
                    fr: ["Voici ma famille.", "J'ai un fils et une fille.", "Comment s'appelle votre m√®re?", "Mon p√®re est instituteur.", "J'ai un grand fr√®re.", "Ma grand-m√®re cuisine tr√®s bien.", "√ätes-vous mari√©?", "Je n'ai pas d'enfants.", "Ma s≈ìur habite √† Londres.", "C'est mon cousin."],
                    'el-GR': ["ŒëœÖœÑŒÆ ŒµŒØŒΩŒ±Œπ Œ∑ ŒøŒπŒ∫ŒøŒ≥Œ≠ŒΩŒµŒπŒ¨ ŒºŒøœÖ.", "Œàœáœâ Œ≠ŒΩŒ±ŒΩ Œ≥ŒπŒø Œ∫Œ±Œπ ŒºŒπŒ± Œ∫œåœÅŒ∑.", "Œ†œéœÇ ŒªŒ≠ŒΩŒµ œÑŒ∑ ŒºŒ∑œÑŒ≠œÅŒ± œÉŒ±œÇ;", "Œü œÄŒ±œÑŒ≠œÅŒ±œÇ ŒºŒøœÖ ŒµŒØŒΩŒ±Œπ Œ¥Œ¨œÉŒ∫Œ±ŒªŒøœÇ.", "Œàœáœâ Œ≠ŒΩŒ±ŒΩ ŒºŒµŒ≥Œ¨ŒªŒø Œ±Œ¥ŒµœÅœÜœå.", "Œó Œ≥ŒπŒ±Œ≥ŒπŒ¨ ŒºŒøœÖ ŒºŒ±Œ≥ŒµŒπœÅŒµœçŒµŒπ œÄŒøŒªœç Œ∫Œ±ŒªŒ¨.", "ŒïŒØœÉœÑŒµ œÄŒ±ŒΩœÑœÅŒµŒºŒ≠ŒΩŒøœÇ;", "ŒîŒµŒΩ Œ≠œáœâ œÄŒ±ŒπŒ¥ŒπŒ¨.", "Œó Œ±Œ¥ŒµœÅœÜŒÆ ŒºŒøœÖ ŒºŒ≠ŒΩŒµŒπ œÉœÑŒø ŒõŒøŒΩŒ¥ŒØŒΩŒø.", "ŒëœÖœÑœåœÇ ŒµŒØŒΩŒ±Œπ Œø ŒæŒ¨Œ¥ŒµœÅœÜœåœÇ ŒºŒøœÖ."],
                    'es-ES': ["Esta es mi familia.", "Tengo un hijo y una hija.", "¬øC√≥mo se llama tu madre?", "Mi padre es profesor.", "Tengo un hermano mayor.", "Mi abuela cocina muy bien.", "¬øEst√°s casado?", "No tengo hijos.", "Mi hermana vive en Londres.", "Es mi primo."],
                    'de-DE': ["Das ist meine Familie.", "Ich habe einen Sohn und eine Tochter.", "Wie hei√üt Ihre Mutter?", "Mein Vater ist Lehrer.", "Ich habe einen gro√üen Bruder.", "Meine Gro√ümutter kocht sehr gut.", "Sind Sie verheiratet?", "Ich habe keine Kinder.", "Meine Schwester wohnt in London.", "Das ist mein Cousin."],
                    'it-IT': ["Questa √® la mia famiglia.", "Ho un figlio e una figlia.", "Come si chiama tua madre?", "Mio padre √® un insegnante.", "Ho un fratello maggiore.", "Mia nonna cucina molto bene.", "Sei sposato?", "Non ho figli.", "Mia sorella abita a Londra.", "√à mio cugino."],
                    'pt-PT': ["Esta √© a minha fam√≠lia.", "Tenho um filho e uma filha.", "Como se chama a sua m√£e?", "O meu pai √© professor.", "Tenho um irm√£o mais velho.", "A minha av√≥ cozinha muito bem.", "√â casado?", "N√£o tenho filhos.", "A minha irm√£ mora em Londres.", "√â o meu primo."],
                    'ja-JP': ["„Åì„Çå„ÅØÁßÅ„ÅÆÂÆ∂Êóè„Åß„Åô„ÄÇ", "ÊÅØÂ≠ê„Åå‰∏Ä‰∫∫„Å®Â®ò„Åå‰∏Ä‰∫∫„ÅÑ„Åæ„Åô„ÄÇ", "„ÅäÊØç„Åï„Çì„ÅÆÂêçÂâç„ÅØ‰Ωï„Åß„Åô„ÅãÔºü", "Áà∂„ÅØÊïôÂ∏´„Åß„Åô„ÄÇ", "ÂÖÑ„Åå‰∏Ä‰∫∫„ÅÑ„Åæ„Åô„ÄÇ", "Á•ñÊØç„ÅØÊñôÁêÜ„Åå„Å®„Å¶„ÇÇ‰∏äÊâã„Åß„Åô„ÄÇ", "ÁµêÂ©ö„Åó„Å¶„ÅÑ„Åæ„Åô„ÅãÔºü", "Â≠ê‰æõ„ÅØ„ÅÑ„Åæ„Åõ„Çì„ÄÇ", "Âßâ„ÅØ„É≠„É≥„Éâ„É≥„Å´‰Ωè„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇ", "ÂΩº„ÅØÁßÅ„ÅÆÂæìÂÖÑÂºü„Åß„Åô„ÄÇ"]
                }
            },
            dentiste: {
                A1: {
                    fr: ["J'ai mal aux dents.", "C'est grave?", "Je dois prendre rendez-vous.", "Ouvrez la bouche, s'il vous pla√Æt.", "Rincez-vous la bouche.", "J'ai peur du dentiste.", "Cette dent me fait souffrir.", "Faut-il arracher la dent?", "Je voudrais un d√©tartrage.", "√Ä quelle heure est mon rendez-vous?"],
                    'el-GR': ["Œ†ŒøŒΩŒ¨ŒµŒπ œÑŒø Œ¥œåŒΩœÑŒπ ŒºŒøœÖ.", "ŒïŒØŒΩŒ±Œπ œÉŒøŒ≤Œ±œÅœå;", "Œ†œÅŒ≠œÄŒµŒπ ŒΩŒ± Œ∫ŒªŒµŒØœÉœâ œÅŒ±ŒΩœÑŒµŒ≤Œøœç.", "ŒëŒΩŒøŒØŒæœÑŒµ œÑŒø œÉœÑœåŒºŒ± œÉŒ±œÇ, œÄŒ±œÅŒ±Œ∫Œ±Œªœé.", "ŒûŒµœÄŒªœçŒΩŒµœÑŒµ œÑŒø œÉœÑœåŒºŒ± œÉŒ±œÇ.", "Œ¶ŒøŒ≤Œ¨ŒºŒ±Œπ œÑŒøŒΩ ŒøŒ¥ŒøŒΩœÑŒØŒ±œÑœÅŒø.", "ŒëœÖœÑœå œÑŒø Œ¥œåŒΩœÑŒπ ŒºŒµ œÄŒøŒΩŒ¨ŒµŒπ.", "Œ†œÅŒ≠œÄŒµŒπ ŒΩŒ± Œ≤Œ≥ŒµŒπ œÑŒø Œ¥œåŒΩœÑŒπ;", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± Œ≠ŒΩŒ±ŒΩ Œ∫Œ±Œ∏Œ±œÅŒπœÉŒºœå.", "Œ§Œπ œéœÅŒ± ŒµŒØŒΩŒ±Œπ œÑŒø œÅŒ±ŒΩœÑŒµŒ≤Œøœç ŒºŒøœÖ;"],
                    'es-ES': ["Me duele el diente.", "¬øEs grave?", "Tengo que pedir una cita.", "Abra la boca, por favor.", "Enju√°guese la boca.", "Tengo miedo al dentista.", "Este diente me hace sufrir.", "¬øHay que sacar el diente?", "Quisiera una limpieza.", "¬øA qu√© hora es mi cita?"],
                    'de-DE': ["Ich habe Zahnschmerzen.", "Ist es schlimm?", "Ich muss einen Termin machen.", "√ñffnen Sie bitte den Mund.", "Sp√ºlen Sie Ihren Mund aus.", "Ich habe Angst vor dem Zahnarzt.", "Dieser Zahn tut mir weh.", "Muss der Zahn gezogen werden?", "Ich h√§tte gerne eine Zahnreinigung.", "Wann ist mein Termin?"],
                    'it-IT': ["Ho mal di denti.", "√à grave?", "Devo prendere un appuntamento.", "Apra la bocca, per favore.", "Si sciacqui la bocca.", "Ho paura del dentista.", "Questo dente mi fa soffrire.", "Bisogna togliere il dente?", "Vorrei una pulizia dei denti.", "A che ora √® il mio appuntamento?"],
                    'pt-PT': ["D√≥i-me o dente.", "√â grave?", "Preciso de marcar uma consulta.", "Abra a boca, por favor.", "Enxague a boca.", "Tenho medo do dentista.", "Este dente faz-me sofrer.", "√â preciso arrancar o dente?", "Queria uma limpeza.", "A que horas √© a minha consulta?"],
                    'ja-JP': ["Ê≠Ø„ÅåÁóõ„ÅÑ„Åß„Åô„ÄÇ", "„Å≤„Å©„ÅÑ„Åß„Åô„ÅãÔºü", "‰∫àÁ¥Ñ„Çí„Åó„Åü„ÅÑ„Åß„Åô„ÄÇ", "Âè£„ÇíÈñã„Åë„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ", "Âè£„Çí„ÇÜ„Åô„ÅÑ„Åß„Åè„Å†„Åï„ÅÑ„ÄÇ", "Ê≠ØÂåªËÄÖ„ÅåÊÄñ„ÅÑ„Åß„Åô„ÄÇ", "„Åì„ÅÆÊ≠Ø„ÅåÁóõ„Åø„Åæ„Åô„ÄÇ", "ÊäúÊ≠Ø„ÅåÂøÖË¶Å„Åß„Åô„ÅãÔºü", "„ÇØ„É™„Éº„Éã„É≥„Ç∞„Çí„ÅäÈ°ò„ÅÑ„Åó„Åæ„Åô„ÄÇ", "‰∫àÁ¥Ñ„ÅØ‰ΩïÊôÇ„Åß„Åô„ÅãÔºü"]
                }
            },
            banque: {
                A2: {
                    fr: ["Je voudrais ouvrir un compte.", "Quel est le taux d'int√©r√™t?", "Je veux faire un virement.", "Avez-vous des conseils d'investissement?", "O√π est le distributeur?", "J'ai perdu ma carte bancaire.", "Mon solde est insuffisant.", "Je voudrais changer de l'argent.", "C'est quoi votre commission?", "Puis-je avoir un pr√™t?"],
                    'el-GR': ["ŒòŒ± ŒÆŒ∏ŒµŒªŒ± ŒΩŒ± Œ±ŒΩŒøŒØŒæœâ Œ≠ŒΩŒ±ŒΩ ŒªŒøŒ≥Œ±œÅŒπŒ±œÉŒºœå.", "Œ†ŒøŒπŒø ŒµŒØŒΩŒ±Œπ œÑŒø ŒµœÄŒπœÑœåŒ∫ŒπŒø;", "ŒòŒ≠Œªœâ ŒΩŒ± Œ∫Œ¨ŒΩœâ ŒºŒπŒ± ŒºŒµœÑŒ±œÜŒøœÅŒ¨.", "ŒàœáŒµœÑŒµ ŒµœÄŒµŒΩŒ¥œÖœÑŒπŒ∫Œ≠œÇ œÉœÖŒºŒ≤ŒøœÖŒªŒ≠œÇ;", "Œ†Œøœç ŒµŒØŒΩŒ±Œπ œÑŒø ŒëŒ§Œú;", "ŒàœáŒ±œÉŒ± œÑŒ∑ŒΩ œÑœÅŒ±œÄŒµŒ∂ŒπŒ∫ŒÆ ŒºŒøœÖ Œ∫Œ¨œÅœÑŒ±.", "Œ§Œø œÖœÄœåŒªŒøŒπœÄœå ŒºŒøœÖ Œ¥ŒµŒΩ ŒµŒØŒΩŒ±Œπ Œ±œÅŒ∫ŒµœÑœå.", "ŒòŒ± ŒÆŒ∏ŒµŒªŒ± ŒΩŒ± Œ±ŒªŒªŒ¨Œæœâ œáœÅŒÆŒºŒ±œÑŒ±.", "Œ†ŒøŒπŒ± ŒµŒØŒΩŒ±Œπ Œ∑ œÄœÅŒøŒºŒÆŒ∏ŒµŒπŒ¨ œÉŒ±œÇ;", "ŒúœÄŒøœÅœé ŒΩŒ± œÄŒ¨œÅœâ Œ≠ŒΩŒ± Œ¥Œ¨ŒΩŒµŒπŒø;"],
                    'es-ES': ["Me gustar√≠a abrir una cuenta.", "¬øCu√°l es la tasa de inter√©s?", "Quiero hacer una transferencia.", "¬øTiene consejos de inversi√≥n?", "¬øD√≥nde est√° el cajero?", "He perdido mi tarjeta bancaria.", "Mi saldo es insuficiente.", "Quisiera cambiar dinero.", "¬øCu√°l es su comisi√≥n?", "¬øPuedo tener un pr√©stamo?"],
                    'de-DE': ["Ich m√∂chte ein Konto er√∂ffnen.", "Wie hoch ist der Zinssatz?", "Ich m√∂chte eine √úberweisung machen.", "Haben Sie Anlagetipps?", "Wo ist der Geldautomat?", "Ich habe meine Bankkarte verloren.", "Mein Kontostand ist unzureichend.", "Ich m√∂chte Geld wechseln.", "Wie hoch ist Ihre Provision?", "Kann ich einen Kredit bekommen?"],
                    'it-IT': ["Vorrei aprire un conto.", "Qual √® il tasso di interesse?", "Voglio fare un bonifico.", "Ha dei consigli di investimento?", "Dov'√® il bancomat?", "Ho perso la mia carta bancaria.", "Il mio saldo √® insufficiente.", "Vorrei cambiare dei soldi.", "Qual √® la vostra commissione?", "Posso avere un prestito?"],
                    'pt-PT': ["Gostaria de abrir uma conta.", "Qual √© a taxa de juro?", "Quero fazer uma transfer√™ncia.", "Tem conselhos de investimento?", "Onde fica o multibanco?", "Perdi o meu cart√£o banc√°rio.", "O meu saldo √© insuficiente.", "Gostaria de trocar dinheiro.", "Qual √© a vossa comiss√£o?", "Posso ter um empr√©stimo?"],
                    'ja-JP': ["Âè£Â∫ß„ÇíÈñãË®≠„Åó„Åü„ÅÑ„Åß„Åô„ÄÇ", "Âà©Áéá„ÅØ„ÅÑ„Åè„Çâ„Åß„Åô„ÅãÔºü", "ÊåØËæº„Çí„Åó„Åü„ÅÑ„Åß„Åô„ÄÇ", "ÊäïË≥á„ÅÆ„Ç¢„Éâ„Éê„Ç§„Çπ„ÅØ„ÅÇ„Çä„Åæ„Åô„ÅãÔºü", "ATM„ÅØ„Å©„Åì„Åß„Åô„ÅãÔºü", "„Ç≠„É£„ÉÉ„Ç∑„É•„Ç´„Éº„Éâ„Çí„Å™„Åè„Åó„Åæ„Åó„Åü„ÄÇ", "ÊÆãÈ´ò„ÅåË∂≥„Çä„Åæ„Åõ„Çì„ÄÇ", "‰∏°Êõø„Çí„Åó„Åü„ÅÑ„Åß„Åô„ÄÇ", "ÊâãÊï∞Êñô„ÅØ„ÅÑ„Åè„Çâ„Åß„Åô„ÅãÔºü", "„É≠„Éº„É≥„ÇíÁµÑ„ÇÅ„Åæ„Åô„ÅãÔºü"]
                }
            },
            culture: {
                B1: {
                    fr: ["Comment pourrions-nous am√©liorer l'environnement?", "Le t√©l√©travail change nos habitudes de vie.", "L'intelligence artificielle est un grand d√©fi.", "La culture est essentielle pour l'identit√©.", "Il faut prot√©ger les traditions locales.", "Les r√©seaux sociaux influencent les jeunes.", "Le voyage forme la jeunesse.", "La gastronomie fran√ßaise est c√©l√®bre.", "L'art est partout autour de nous.", "La paix dans le monde est mon souhait."],
                    'el-GR': ["Œ†œéœÇ Œ∏Œ± ŒºœÄŒøœÅŒøœçœÉŒ±ŒºŒµ ŒΩŒ± Œ≤ŒµŒªœÑŒπœéœÉŒøœÖŒºŒµ œÑŒø œÄŒµœÅŒπŒ≤Œ¨ŒªŒªŒøŒΩ;", "Œó œÑŒ∑ŒªŒµœÅŒ≥Œ±œÉŒØŒ± Œ±ŒªŒªŒ¨Œ∂ŒµŒπ œÑŒπœÇ œÉœÖŒΩŒÆŒ∏ŒµŒπŒµœÇ œÑŒ∑œÇ Œ∂œâŒÆœÇ ŒºŒ±œÇ.", "Œó œÑŒµœáŒΩŒ∑œÑŒÆ ŒΩŒøŒ∑ŒºŒøœÉœçŒΩŒ∑ ŒµŒØŒΩŒ±Œπ ŒºŒπŒ± ŒºŒµŒ≥Œ¨ŒªŒ∑ œÄœÅœåŒ∫ŒªŒ∑œÉŒ∑.", "Œü œÄŒøŒªŒπœÑŒπœÉŒºœåœÇ ŒµŒØŒΩŒ±Œπ Œ±œÄŒ±œÅŒ±ŒØœÑŒ∑œÑŒøœÇ Œ≥ŒπŒ± œÑŒ∑ŒΩ œÑŒ±œÖœÑœåœÑŒ∑œÑŒ±.", "Œ†œÅŒ≠œÄŒµŒπ ŒΩŒ± œÄœÅŒøœÉœÑŒ±œÑŒµœçœÉŒøœÖŒºŒµ œÑŒπœÇ œÑŒøœÄŒπŒ∫Œ≠œÇ œÄŒ±œÅŒ±Œ¥œåœÉŒµŒπœÇ.", "Œ§Œ± ŒºŒ≠œÉŒ± Œ∫ŒøŒπŒΩœâŒΩŒπŒ∫ŒÆœÇ Œ¥ŒπŒ∫œÑœçœâœÉŒ∑œÇ ŒµœÄŒ∑œÅŒµŒ¨Œ∂ŒøœÖŒΩ œÑŒøœÖœÇ ŒΩŒ≠ŒøœÖœÇ.", "Œ§Œø œÑŒ±ŒæŒØŒ¥Œπ Œ¥ŒπŒ±ŒºŒøœÅœÜœéŒΩŒµŒπ œÑŒøœÖœÇ ŒΩŒ≠ŒøœÖœÇ.", "Œó Œ≥Œ±ŒªŒªŒπŒ∫ŒÆ Œ≥Œ±œÉœÑœÅŒøŒΩŒøŒºŒØŒ± ŒµŒØŒΩŒ±Œπ Œ¥ŒπŒ¨œÉŒ∑ŒºŒ∑.", "Œó œÑŒ≠œáŒΩŒ∑ ŒµŒØŒΩŒ±Œπ œÄŒ±ŒΩœÑŒøœç Œ≥œçœÅœâ ŒºŒ±œÇ.", "Œó œÄŒ±Œ≥Œ∫œåœÉŒºŒπŒ± ŒµŒπœÅŒÆŒΩŒ∑ ŒµŒØŒΩŒ±Œπ Œ∑ ŒµœÖœáŒÆ ŒºŒøœÖ."],
                    'es-ES': ["¬øC√≥mo podr√≠amos mejorar el medio ambiente?", "El teletrabajo est√° cambiando nuestros h√°bitos de vida.", "La inteligencia artificial es un gran desaf√≠o.", "La cultura es esencial para la identidad.", "Hay que proteger las tradiciones locales.", "Las redes sociales influyen en los j√≥venes.", "Viajar forma a la juventud.", "La gastronom√≠a francesa es famosa.", "El arte est√° en todas partes a nuestro alrededor.", "La paz en el mundo es mi deseo."],
                    'de-DE': ["Wie k√∂nnten wir die Umwelt verbessern?", "Telearbeit ver√§ndert unsere Lebensgewohnheiten.", "K√ºnstliche Intelligenz ist eine gro√üe Herausforderung.", "Kultur ist wesentlich f√ºr die Identit√§t.", "Wir m√ºssen lokale Traditionen sch√ºtzen.", "Soziale Medien beeinflussen die Jugend.", "Reisen bildet die Jugend.", "Die franz√∂sische Gastronomie ist ber√ºhmt.", "Kunst ist √ºberall um uns herum.", "Weltfrieden ist mein Wunsch."],
                    'it-IT': ["Come potremmo migliorare l'ambiente?", "Il telelavoro sta cambiando le nostre abitudini di vita.", "L'intelligenza artificiale √® una grande sfida.", "La cultura √® essenziale per l'identit√†.", "Dobbiamo proteggere le tradizioni locali.", "I social network influenzano i giovani.", "Il viaggio forma la giovent√π.", "La gastronomia francese √® famosa.", "L'arte √® ovunque intorno a noi.", "La pace nel mondo √® il mio desiderio."],
                    'pt-PT': ["Como poder√≠amos melhorar o ambiente?", "O teletrabalho est√° a mudar os nossos h√°bitos de vida.", "A intelig√™ncia artificial √© um grande desafio.", "A cultura √© essencial para a identidade.", "√â preciso proteger as tradi√ß√µes locais.", "As redes sociais influenciam os jovens.", "Viajar forma a juventude.", "A gastronomia francesa √© famosa.", "A arte est√° em todo o lado √† nossa volta.", "A paz no mundo √© o meu desejo."],
                    'ja-JP': ["„Å©„ÅÆ„Çà„ÅÜ„Å´Áí∞Â¢É„ÇíÊîπÂñÑ„Åß„Åç„Çã„Åß„Åó„Çá„ÅÜ„ÅãÔºü", "„ÉÜ„É¨„ÉØ„Éº„ÇØ„ÅØÁßÅ„Åü„Å°„ÅÆÁîüÊ¥ªÁøíÊÖ£„ÇíÂ§â„Åà„Å¶„ÅÑ„Åæ„Åô„ÄÇ", "‰∫∫Â∑•Áü•ËÉΩ„ÅØÂ§ß„Åç„Å™ÊåëÊà¶„Åß„Åô„ÄÇ", "ÊñáÂåñ„ÅØ„Ç¢„Ç§„Éá„É≥„ÉÜ„Ç£„ÉÜ„Ç£„Éº„Å´„Å®„Å£„Å¶‰∏çÂèØÊ¨†„Åß„Åô„ÄÇ", "Âú∞Âüü„ÅÆ‰ºùÁµ±„ÇíÂÆà„Çâ„Å™„Åë„Çå„Å∞„Å™„Çä„Åæ„Åõ„Çì„ÄÇ", "„ÇΩ„Éº„Ç∑„É£„É´„É°„Éá„Ç£„Ç¢„ÅØËã•ËÄÖ„Å´ÂΩ±Èüø„Çí‰∏é„Åà„Åæ„Åô„ÄÇ", "ÊóÖ„ÅØ‰∫∫„ÇíÊàêÈï∑„Åï„Åõ„Åæ„Åô„ÄÇ", "„Éï„É©„É≥„ÇπÊñôÁêÜ„ÅØÊúâÂêç„Åß„Åô„ÄÇ", "Ëä∏Ë°ì„ÅØÁßÅ„Åü„Å°„ÅÆÂë®„Çä„ÅÆ„ÅÑ„Åü„Çã„Å®„Åì„Çç„Å´„ÅÇ„Çä„Åæ„Åô„ÄÇ", "‰∏ñÁïåÂπ≥Âíå„ÅåÁßÅ„ÅÆÈ°ò„ÅÑ„Åß„Åô„ÄÇ"]
                }
            }
        };

        // √âtat global
        let state = {
            targetLang: 'el-GR',
            level: 'A1',
            topic: 'presentation',
            currentFrench: '',
            currentTarget: '',
            transcript: '',
            mediaRecorder: null,
            audioChunks: [],
            correctCount: 0,
            totalCount: 0,
            showTranslation: true,
            isRecording: false,
            autoNextTimeout: null
        };

        // √âl√©ments DOM
        const els = {
            targetLangSelect: document.getElementById('targetLang'),
            levelSelect: document.getElementById('level'),
            topicSelect: document.getElementById('topic'),
            generateBtn: document.getElementById('generateBtn'),
            frenchDialogue: document.getElementById('frenchDialogue'),
            targetDialogue: document.getElementById('targetDialogue'),
            targetLangLabel: document.getElementById('targetLangLabel'),
            speakTarget: document.getElementById('speakTarget'),
            toggleTranslation: document.getElementById('toggleTranslation'),
            recordBtn: document.getElementById('recordBtn'),
            stopBtn: document.getElementById('stopBtn'),
            transcript: document.getElementById('transcript'),
            checkBtn: document.getElementById('checkBtn'),
            recorderStatus: document.getElementById('recorderStatus'),
            correctionBox: document.getElementById('correctionBox'),
            correctionContainer: document.getElementById('correctionContainer'),
            correctionDivider: document.getElementById('correctionDivider'),
            correctCount: document.getElementById('correctCount'),
            totalCount: document.getElementById('totalCount'),
            voiceWarning: document.getElementById('voice-warning'),
            missingLangName: document.getElementById('missing-lang-name')
        };

        // Langue cible
        const langNames = {
            'el-GR': 'Grec',
            'es-ES': 'Espagnol',
            'de-DE': 'Allemand',
            'it-IT': 'Italien',
            'pt-PT': 'Portugais',
            'ja-JP': 'Japonais'
        };

        // Initialiser Web Speech API
        const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition || window.mozSpeechRecognition || window.msSpeechRecognition;
        if (!SpeechRecognition) {
            console.error("Speech Recognition non support√©");
        }

        const recognition = SpeechRecognition ? new SpeechRecognition() : null;
        if (recognition) {
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.lang = state.targetLang;

            recognition.onstart = () => {
                console.log('üé§ Reconnaissance vocale d√©marr√©e (onstart)');
                state.isRecording = true;
                els.recordBtn.disabled = true;
                els.stopBtn.disabled = false;
                els.recorderStatus.textContent = 'üî¥ Enregistrement en cours...';
                els.recorderStatus.className = 'recorder-status status-recording';
                els.checkBtn.disabled = true;
            };

            recognition.onresult = (event) => {
                state.transcript = Array.from(event.results)
                    .map(result => result[0].transcript)
                    .join('');
                updateTranscript();
                console.log('R√©sultat:', state.transcript);
            };

            recognition.onerror = (event) => {
                console.error('Erreur reconnaissance:', event.error);
                let errorMsg = event.error;
                if (event.error === 'no-speech') {
                    errorMsg = 'Pas de son d√©tect√©. Parlez plus fort!';
                } else if (event.error === 'network') {
                    errorMsg = 'Erreur r√©seau. V√©rifiez votre connexion.';
                } else if (event.error === 'not-allowed') {
                    errorMsg = 'Acc√®s micro refus√©. V√©rifiez vos param√®tres.';
                } else if (event.error === 'service-not-allowed') {
                    errorMsg = 'Service non autoris√©. (Besoin de HTTPS sur mobile?)';
                }
                els.recorderStatus.textContent = `‚ö†Ô∏è ${errorMsg}`;
                els.recorderStatus.className = 'recorder-status status-error';
                state.isRecording = false;
                els.recordBtn.disabled = false;
                els.stopBtn.disabled = true;
            };

            recognition.onend = () => {
                state.isRecording = false;
                els.recordBtn.disabled = false;
                els.stopBtn.disabled = true;
                els.recorderStatus.textContent = 'Pr√™t √† enregistrer';
                els.recorderStatus.className = 'recorder-status status-ready';
                els.checkBtn.disabled = state.transcript === '';

                // V√©rification automatique
                if (state.transcript !== '') {
                    checkAnswer(true);
                }
            };
        }

        // √âv√©nements
        els.generateBtn.addEventListener('click', generateDialogue);
        els.speakTarget.addEventListener('click', () => {
            speakText(state.currentTarget, state.targetLang);
        });
        els.toggleTranslation.addEventListener('click', toggleTranslation);
        els.recordBtn.addEventListener('click', startRecording);
        els.stopBtn.addEventListener('click', stopRecording);
        els.checkBtn.addEventListener('click', checkAnswer);
        els.topicSelect.addEventListener('change', (e) => {
            state.topic = e.target.value;
            generateDialogue();
        });
        els.targetLangSelect.addEventListener('change', (e) => {
            state.targetLang = e.target.value;
            if (recognition) recognition.lang = state.targetLang;
            els.targetLangLabel.textContent = langNames[state.targetLang];
            generateDialogue();
        });
        els.levelSelect.addEventListener('change', (e) => {
            state.level = e.target.value;
            generateDialogue();
        });

        function autoScroll(el) {
            if (el) {
                el.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
        }

        function generateDialogue() {
            if (state.autoNextTimeout) clearTimeout(state.autoNextTimeout);

            const topicData = DIALOGUES[state.topic] || DIALOGUES['presentation'];
            const levelData = topicData[state.level] || topicData['A1'] || topicData[Object.keys(topicData)[0]];

            const frDialogues = levelData.fr;
            state.currentFrench = frDialogues[Math.floor(Math.random() * frDialogues.length)];
            state.totalCount++;
            els.totalCount.textContent = state.totalCount;

            els.frenchDialogue.textContent = state.currentFrench;
            generateTranslation();

            state.transcript = '';
            els.transcript.innerHTML = '<span class="transcript-empty">Aucun enregistrement</span>';
            els.correctionContainer.style.display = 'none';
            els.correctionDivider.style.display = 'none';
            els.checkBtn.disabled = true;
            els.recordBtn.disabled = false;

            autoScroll(els.frenchDialogue);

            setTimeout(() => {
                speakText(state.currentTarget, state.targetLang);
            }, 1000);
        }

        function generateTranslation() {
            const topicData = DIALOGUES[state.topic] || DIALOGUES['presentation'];
            const levelData = topicData[state.level] || topicData['A1'] || topicData[Object.keys(topicData)[0]];

            const frIndex = levelData.fr.indexOf(state.currentFrench);
            if (frIndex !== -1 && levelData[state.targetLang]) {
                state.currentTarget = levelData[state.targetLang][frIndex];
            } else {
                state.currentTarget = '(Traduction non disponible)';
            }
            els.targetDialogue.textContent = state.showTranslation ? state.currentTarget : '???';
        }

        function startRecording() {
            console.log('Tentative de d√©marrage de l\'enregistrement...');
            if (!recognition) {
                alert("La reconnaissance vocale n'est pas support√©e par ce navigateur ou n√©cessite HTTPS.");
                return;
            }

            if (state.isRecording) return;

            state.transcript = '';
            updateTranscript();
            recognition.lang = state.targetLang;
            try {
                recognition.start();
            } catch (err) {
                console.error("Erreur start recording:", err);
                state.isRecording = false;
                els.recordBtn.disabled = false;
            }
        }

        function stopRecording() {
            if (recognition) recognition.stop();
        }

        function updateTranscript() {
            if (state.transcript) {
                els.transcript.textContent = state.transcript;
            } else {
                els.transcript.innerHTML = '<span class="transcript-empty">Aucun enregistrement</span>';
            }
        }

        function speakText(text, lang) {
            if (!text || text === '???' || text.includes('Traduction non disponible')) return;

            function speak() {
                window.speechSynthesis.cancel();

                setTimeout(() => {
                    const utterance = new SpeechSynthesisUtterance(text);
                    const voices = window.speechSynthesis.getVoices();

                    if (voices.length === 0) {
                        console.warn("Aucune voix disponible sur cet appareil.");
                        return;
                    }

                    // Normalisation de la langue cible pour la recherche
                    const normalizedTarget = lang.toLowerCase().replace('_', '-');
                    const targetPrefix = normalizedTarget.split('-')[0];

                    // Recherche de la meilleure voix possible
                    let voice = voices.find(v => v.lang.toLowerCase().replace('_', '-') === normalizedTarget) ||
                        voices.find(v => v.lang.toLowerCase().startsWith(targetPrefix)) ||
                        voices.find(v => v.lang.toLowerCase().includes(targetPrefix));

                    if (voice) {
                        utterance.voice = voice;
                        els.voiceWarning.style.display = 'none';
                        console.log('%c Voix cible : ' + voice.name + ' (' + voice.lang + ')', 'background: #222; color: #bada55');
                    } else {
                        els.missingLangName.textContent = langNames[state.targetLang] || lang;
                        els.voiceWarning.style.display = 'block';
                        console.error("ERREUR : Aucune voix trouv√©e pour " + lang);
                    }

                    // Configuration cruciale
                    utterance.lang = lang;
                    utterance.rate = 0.9;
                    utterance.pitch = 1.0;
                    utterance.volume = 1.0;

                    if (window.speechSynthesis.paused) {
                        window.speechSynthesis.resume();
                    }

                    utterance.onstart = () => {
                        els.speakTarget.style.background = 'var(--color-teal-300)';
                        els.speakTarget.textContent = 'üîä Lecture...';
                    };

                    utterance.onend = () => {
                        els.speakTarget.style.background = '';
                        els.speakTarget.textContent = `üîä √âcouter le ${langNames[state.targetLang] || 'Langue'}`;
                    };

                    utterance.onerror = (e) => {
                        console.error('Erreur TTS:', e);
                        els.speakTarget.style.background = '';
                        els.speakTarget.textContent = '‚ö†Ô∏è Erreur Audio';
                    };

                    window.speechSynthesis.speak(utterance);
                }, 200);
            }

            if (window.speechSynthesis.getVoices().length > 0) {
                speak();
            } else {
                window.speechSynthesis.onvoiceschanged = () => speak();
                // Force le chargement sur certains navigateurs mobiles
                window.speechSynthesis.getVoices();
            }
        }

        function toggleTranslation() {
            state.showTranslation = !state.showTranslation;
            els.targetDialogue.textContent = state.showTranslation ? state.currentTarget : '???';
            els.toggleTranslation.textContent = state.showTranslation ? 'üëÅÔ∏è Masquer' : 'üëÅÔ∏è Voir';
        }

        function checkAnswer(isAuto = false) {
            if (!state.transcript) return;
            els.correctionDivider.style.display = 'block';
            els.correctionContainer.style.display = 'block';

            const similarity = calculateSimilarity(state.transcript.toLowerCase(), state.currentTarget.toLowerCase());

            if (similarity > 0.6) {
                els.correctionBox.className = 'correction-box success correction-content';
                els.correctionBox.innerHTML = `<strong>‚úÖ Excellent!</strong> Votre prononciation est tr√®s proche de la cible.`;
                state.correctCount++;
                els.correctCount.textContent = state.correctCount;
            } else {
                els.correctionBox.className = 'correction-box error correction-content';
                els.correctionBox.innerHTML = `<strong>Cible:</strong> ${state.currentTarget}<br><strong>Votre r√©ponse:</strong> ${state.transcript}`;
            }

            autoScroll(els.correctionBox);

            if (isAuto) {
                state.autoNextTimeout = setTimeout(() => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    setTimeout(generateDialogue, 500);
                }, 3000);
            }
        }

        function calculateSimilarity(str1, str2) {
            const longer = str1.length > str2.length ? str1 : str2;
            const shorter = str1.length > str2.length ? str2 : str1;
            if (longer.length === 0) return 1.0;
            const editDistance = getEditDistance(longer, shorter);
            return (longer.length - editDistance) / longer.length;
        }

        function getEditDistance(s1, s2) {
            const costs = [];
            for (let i = 0; i <= s1.length; i++) {
                let lastValue = i;
                for (let j = 0; j <= s2.length; j++) {
                    if (i === 0) {
                        costs[j] = j;
                    } else if (j > 0) {
                        let newValue = costs[j - 1];
                        if (s1.charAt(i - 1) !== s2.charAt(j - 1)) {
                            newValue = Math.min(Math.min(newValue, lastValue), costs[j]) + 1;
                        }
                        costs[j - 1] = lastValue;
                        lastValue = newValue;
                    }
                }
                if (i > 0) costs[s2.length] = lastValue;
            }
            return costs[s2.length];
        }

        // Initialiser
        els.targetLangLabel.textContent = langNames[state.targetLang];
    </script>
</body>

</html>